!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.utilise=t()}}(function(){return function t(e,n,r){function i(u,s){if(!n[u]){if(!e[u]){var l="function"==typeof require&&require;if(!s&&l)return l(u,!0);if(o)return o(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[u]={exports:{}};e[u][0].call(f.exports,function(t){var n=e[u][1][t];return i(n?n:t)},f,f.exports,t,e,n,r)}return n[u].exports}for(var o="function"==typeof require&&require,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(t,e,n){var r=t("utilise/to");e.exports=function(t,e){var n=!e&&document.head.createShadowRoot?"html /deep/ ":"";return r.arr((e||document).querySelectorAll(n+t))}},{"utilise/to":79}],2:[function(t,e,n){e.exports=function(t){return function(e){return e+t}}},{}],3:[function(t,e,n){var r=t("utilise/to"),i=t("utilise/is");e.exports=function(t){return function(e,n){return function(){var o=i.arr(t)?t:[t],u=r.arr(arguments).filter(function(t,e){return i["in"](o)(e)});return e.apply(n||this,u)}}}},{"utilise/is":37,"utilise/to":79}],4:[function(t,e,n){var r=t("utilise/is");e.exports=function i(t,e){var n=arguments.length;return r.str(t)||2!=n?r.str(t)||3!=n?function(i){return i=this.nodeName||r.fn(this.node)?this:i,i=i.node?i.node():i,i=i.host||i,n>1&&e===!1?i.removeAttribute(t):n>1?(i.setAttribute(t,e),e):i.attributes.getNamedItem(t)&&i.attributes.getNamedItem(t).value}:i(arguments[1],arguments[2]).call(this,arguments[0]):i(arguments[1]).call(this,arguments[0])}},{"utilise/is":37}],5:[function(t,e,n){var r=t("utilise/key");e.exports=function(t){return function(e,n){var i=r(t)(e)||"",o=r(t)(n)||"";return i>o?1:o>i?-1:0}}},{"utilise/key":39}],6:[function(t,e,n){e.exports=function(t){return function(e){var n=t.resources[e];return n&&n.body}}},{}],7:[function(t,e,n){var r=t("utilise/key"),i=t("utilise/is");e.exports=function(t,e){var n=1==arguments.length;return function(o){var u=r(t)(o);return u&&e&&u.toLowerCase&&e.toLowerCase?u.toLowerCase()===e.toLowerCase():n?Boolean(u):i.fn(e)?e(u):u==e}}},{"utilise/is":37,"utilise/key":39}],8:[function(t,e,n){e.exports=function(t){return function(){return t.apply(this,arguments),t}}},{}],9:[function(t,e,n){e.exports="undefined"!=typeof window},{}],10:[function(t,e,n){var r=t("utilise/parse"),i=t("utilise/str"),o=t("utilise/is");e.exports=function(t){return o.fn(t)||o.str(t)?t:r(i(t))}},{"utilise/is":37,"utilise/parse":55,"utilise/str":73}],11:[function(t,e,n){function r(){["red","green","bold","grey","strip"].forEach(function(t){!o.str(String.prototype[t])&&Object.defineProperty(String.prototype,t,{get:function(){return String(this)}})})}var i=t("utilise/client"),o=(!i&&t("colors"),t("utilise/has"),t("utilise/is"));e.exports=r()},{colors:47,"utilise/client":9,"utilise/has":31,"utilise/is":37}],12:[function(t,e,n){e.exports=function(t,e){return function(n){return e[n]=t[n],n}}},{}],13:[function(t,e,n){var r=t("utilise/sel");e.exports=function(t){return r(t).datum()}},{"utilise/sel":68}],14:[function(t,e,n){var r=t("utilise/is");e.exports=function(t){function e(t){return function(){var e=this,r=arguments;n&&clearTimeout(n),n=setTimeout(function(){t.apply(e,r)},i)}}var n,i=r.num(t)?t:100;return r.fn(t)?e(t):e}},{"utilise/is":37}],15:[function(t,e,n){var r=t("utilise/has");e.exports=function(t,e,n,i){return!r(t,e)&&Object.defineProperty(t,e,{value:n,writable:i}),t[e]}},{"utilise/has":31}],16:[function(t,e,n){var r=(t("utilise/extend"),t("utilise/keys")),i=t("utilise/is");e.exports=function(t,e,n){function o(e,n){i.def(t[e])||(t[e]=n)}return t.host&&(t=t.host),i.obj(e)?(r(e).map(function(t){o(t,e[t])}),t):(o(e,n),t[e])}},{"utilise/extend":21,"utilise/is":37,"utilise/keys":40}],17:[function(t,e,n){var r=t("utilise/attr"),i=(t("utilise/split"),t("utilise/replace"),t("utilise/prepend"));e.exports=function(t){var e=[],n=t.replace(/\[(.+?)=(.*?)\]/g,function(t,n,r){return e.push([n,r]),""}).split("."),o=n.shift(),u=document.createElement(o);return e.forEach(function(t){r(u,t[0],t[1])}),n.forEach(function(t){u.classList.add(t)}),u.toString=function(){return o+n.map(i(".")).join("")},u}},{"utilise/attr":4,"utilise/prepend":58,"utilise/replace":66,"utilise/split":72}],18:[function(t,e,n){var r=t("utilise/err")("[emitterify]"),i=t("utilise/keys"),o=t("utilise/def"),u=t("utilise/not"),s=t("utilise/is");e.exports=function(t,e){function n(n,r,o){var c=n.split(".")[1],f=n.split(".")[0],a=t.on[f]||[],p=(a.length-1,s.def(r)?r:s.def(e)?e:[t]),d=s.arr(p)?p:[p];if(c)return l(a,c,d),t;for(var h=a.length;h>=0;h--)l(a,h,d);return i(a).filter(u(isFinite)).filter(o||Boolean).map(function(t){return l(a,t,d)}),t}function l(e,n,i){if(e[n]){var o=e[n];e[n].once&&(isFinite(n)?e.splice(n,1):delete e[n]);try{o.apply(t,i)}catch(u){r(u,u.stack)}}}function c(e,n){var r=e.split(".")[1],i=e.split(".")[0];return t.on[i]=t.on[i]||[],n||r?!n&&r?t.on[i][r]:r?(t.on[i][r]=n,t):(t.on[i].push(n),t):t.on[i]}function f(e,n){return n.once=!0,t.on(e,n),t}return o(t,"emit",n,1),o(t,"once",f,1),o(t,"on",c,1),t}},{"utilise/def":15,"utilise/err":19,"utilise/is":37,"utilise/keys":40,"utilise/not":50}],19:[function(t,e,n){var r=t("utilise/owner"),i=t("utilise/to");e.exports=function(t){return function(e){if(!r.console||!console.error.apply)return e;var n=i.arr(arguments);return n.unshift(t.red?t.red:t),e}}},{"utilise/owner":54,"utilise/to":79}],20:[function(t,e,n){e.exports=function(t){return t.replace(/[&<>'"]/g,function(t){return r[t]})};var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}},{}],21:[function(t,e,n){var r=t("utilise/is"),i=t("utilise/not"),o=t("utilise/keys"),u=t("utilise/copy");e.exports=function(t){return function(e){return o(e).filter(i(r["in"](t))).map(u(e,t)),t}}},{"utilise/copy":12,"utilise/is":37,"utilise/keys":40,"utilise/not":50}],22:[function(t,e,n){e.exports=function(){return!1}},{}],23:[function(t,e,n){e.exports=function(t){return function(e){return e.filter(t)}}},{}],24:[function(t,e,n){e.exports=function(t){return t&&t[0]}},{}],25:[function(t,e,n){var r=t("utilise/is");e.exports=function i(t,e){return r.arr(e)&&(e=e.reduce(i,[])),t=t||[],t.concat(e)}},{"utilise/is":37}],26:[function(t,e,n){var r=t("utilise/is");e.exports=function(t){return r.fn(t)?t:new Function("return "+t)()}},{"utilise/is":37}],27:[function(t,e,n){function r(t){return function(e){return u(e)(t)}}function i(t){return o(this.parentNode)[t]}var o=t("utilise/datum"),u=t("utilise/key");e.exports=r,r.parent=i},{"utilise/datum":13,"utilise/key":39}],28:[function(t,e,n){var r=t("utilise/to"),i=t("utilise/is");e.exports=function(t,e,n){var o=t[e];return t[e]=function(){var t=r.arr(arguments).filter(i.str).join(" ");return t.match(n)&&o.apply(this,arguments)},o}},{"utilise/is":37,"utilise/to":79}],29:[function(t,e,n){function r(){console.groupCollapsed=console.groupEnd=function(t){(console.log||o)("*****",t,"*****")}}var i=(t("utilise/client"),t("utilise/owner")),o=t("utilise/noop");e.exports=function(t,e){if(!i.console)return e();console.groupCollapsed||r();var n=e();return n}},{"utilise/client":9,"utilise/noop":49,"utilise/owner":54}],30:[function(t,e,n){var r=t("utilise/key");e.exports=function(t,e){return function(n){return r(t)(n)>e}}},{"utilise/key":39}],31:[function(t,e,n){e.exports=function(t,e){return e in t}},{}],32:[function(t,e,n){e.exports=function(t){var e=0;if(!t)return e;for(var n=0;n<t.length;n++){var r=t.charCodeAt(n);e=(e<<5)-e+r,e&=e}return e}},{}],33:[function(t,e,n){var r=t("utilise/key");e.exports=function i(i,t){var e=1==arguments.length;return function(n){return n&&n.headers?e?r(i)(n.headers):r(i)(n.headers)==t:null}}},{"utilise/key":39}],34:[function(t,e,n){e.exports=function(t){return t}},{}],35:[function(t,e,n){e.exports=function(t){return function(e){return function(){return t.apply(this,arguments)?e.apply(this,arguments):void 0}}}},{}],36:[function(t,e,n){e.exports=function(t){return function(e){return e&&e.indexOf&&~e.indexOf(t)}}},{}],37:[function(t,e,n){function r(t){return function(e){return e==t}}function i(t){return"function"==typeof t}function o(t){return"boolean"==typeof t}function u(t){return"string"==typeof t}function s(t){return"number"==typeof t}function l(t){return"object"==typeof t}function c(t){return"object"==typeof t&&!(t instanceof Array)}function f(t){return 1==!!t}function a(t){return 0==!!t}function p(t){return t instanceof Array}function d(t){return null===t}function h(t){return"undefined"!=typeof t}function j(t){return function(e){return t?t.indexOf?~t.indexOf(e):e in t:!1}}e.exports=r,r.fn=i,r.str=u,r.num=s,r.obj=l,r.lit=c,r.bol=o,r.truthy=f,r.falsy=a,r.arr=p,r["null"]=d,r.def=h,r["in"]=j},{}],38:[function(t,e,n){var r=(t("utilise/clone"),t("utilise/key")),i=t("utilise/by"),o=t("utilise/is");e.exports=function(t,e){return 1==arguments.length&&(e=t,t=null),function(n,u){var s=e||[],l=null;if(u&&!o.num(u)||(u="id"),o.str(e)){var c=e.split(".");s=ripple(c.shift()),l=c.join(".")}var f=r(t)(n),a=s.filter(i(u,f)).map(r(l)).pop()||{};return t?r(t,a)(n):a}}},{"utilise/by":7,"utilise/clone":10,"utilise/is":37,"utilise/key":39}],39:[function(t,e,n){var r=t("utilise/str"),i=t("utilise/is");e.exports=function o(t,e){var n=arguments.length>1,u=r(t).split("."),s=u.shift();return function(r,l){function c(t){var e=o(t)(r);void 0!=e&&o(t,e)(f)}var f={};return r?i.num(t)||t?i.arr(t)?(t.map(c),f):r[t]||!u.length?n?(r[t]=i.fn(e)?e(r[t],l):e,r):r[t]:n?(o(u.join("."),e)(r[s]?r[s]:r[s]={}),r):o(u.join("."))(r[s]):r:void 0}}},{"utilise/is":37,"utilise/str":73}],40:[function(t,e,n){e.exports=function(t){return Object.keys(t||{})}},{}],41:[function(t,e,n){e.exports=function(t){return t&&t[t.length-1]}},{}],42:[function(t,e,n){function r(t,e){function n(){var n=o(t.el,t.attr);o(e.el,e.attr,n)}var t=i(t),e=i(e);if(t.el&&e.el){n();var r=new MutationObserver(n);r.observe(t.el,{attributes:!0,attributeFilter:[t.attr]})}}function i(t){var e=t.split("[")[0],n=t.split("[")[1].split("]")[0];return{el:u(e),attr:n}}var o=t("utilise/attr"),u=t("utilise/raw");e.exports=r},{"utilise/attr":4,"utilise/raw":62}],43:[function(t,e,n){e.exports=function(t){return(t||"").toLowerCase()}},{}],44:[function(t,e,n){var r=t("utilise/is"),i=t("utilise/to"),o=t("utilise/owner");e.exports=function(t){return function(e){if(!o.console||!console.log.apply)return e;r.arr(arguments[2])&&(arguments[2]=arguments[2].length);var n=i.arr(arguments);return n.unshift(t.grey?t.grey:t),e}}},{"utilise/is":37,"utilise/owner":54,"utilise/to":79}],45:[function(t,e,n){var r=t("utilise/key");e.exports=function(t,e){return function(n){return r(t)(n)<e}}},{"utilise/key":39}],46:[function(t,e,n){function r(t){return u.moment(t)}function i(t){return function(e){return r(e).format(t)}}function o(t){return r(t).format("YYYY-MM-DD")}var u=t("utilise/owner");e.exports=r,r.format=i,r.iso=o},{"utilise/owner":54}],47:[function(t,e,n){},{}],48:[function(t,e,n){function r(){f=!1,s.length?c=s.concat(c):a=-1,c.length&&i()}function i(){if(!f){var t=setTimeout(r);f=!0;for(var e=c.length;e;){for(s=c,c=[];++a<e;)s&&s[a].run();a=-1,e=c.length}s=null,f=!1,clearTimeout(t)}}function o(t,e){this.fun=t,this.array=e}function u(){}var s,l=e.exports={},c=[],f=!1,a=-1;l.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new o(t,e)),1!==c.length||f||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=u,l.addListener=u,l.once=u,l.off=u,l.removeListener=u,l.removeAllListeners=u,l.emit=u,l.binding=function(t){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(t){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],49:[function(t,e,n){e.exports=function(){}},{}],50:[function(t,e,n){e.exports=function(t){return function(){return!t.apply(this,arguments)}}},{}],51:[function(t,e,n){var r=t("utilise/is");e.exports=function(t){return r.fn(t)?function(){return t.apply(this,arguments)?!0:null}:t?!0:null}},{"utilise/is":37}],52:[function(t,e,n){function r(t,e,n){function u(t,e,n,i){var o,u,s,f,a,p=l.length,d=[],h=[],j=[],y=0,v=0,w=[],m=[];if(c=p+1,1===arguments.length){if("string"!=typeof t)return r(t);for(;--c>0;)d=d.concat(Array.prototype.slice.call(l[p-c].querySelectorAll(t),0));return r(d)}if(1===e&&"string"==typeof t&&2==arguments.length){for(;--c>0;){for(f=l[p-c],y=f.children.length;y-- >0;)if(f.children[y].matches(t)){d[d.length]=f.children[y],f.children[y].__data__=f.__data__||1;break}if(0>y){for(s=/([^\.\[]*)/.exec(t)[1]||"div",f.appendChild(a=d[d.length]=h[h.length]=document.createElement(s)),w=[],m=[],t.replace(/\[(.+?)="(.*?)"\]/g,function(t,e,n){return w[w.length]=[e,n],""}).replace(/\.([^.]+)/g,function(t,e){return m[m.length]=e,""}),v=0;v<w.length;v++)a.setAttribute(w[v][0],w[v][1]);for(v=0;v<m.length;v++)a.classList.add(m[v]);a.__data__=f.__data__||1}}return r(d,h,j)}for(;--c>0;){f=l[p-c],o="function"==typeof t?t(f.__data__):t,u="function"==typeof e?e(f.__data__):e,1===e&&(u=f.__data__||[1]),"string"==typeof u&&(u=[u]),u||(u=[]),u.constructor!==Array&&(u=[u]);var g=f.children.length,x=g+1,b=u.length,k=new Array(b);for(y=0;--x>0;)a=f.children[g-x],a.matches(o)&&(++y>b?(g--,f.removeChild(j[j.length]=a)):(a.__data__=u[y-1],d[d.length]=k[y-1]=a,"function"==typeof k[y-1].draw&&k[y-1].draw()));for(;y++<b;){for(s=o.call?o(u[y-1],y-1):/([^\.\[]*)/.exec(o)[1]||"div",i?f.insertBefore(k[y-1]=d[d.length]=h[h.length]=document.createElement(s),f.querySelector(i)):f.appendChild(k[y-1]=d[d.length]=h[h.length]=document.createElement(s)),w=[],m=[],o.toString().replace(/\[(.+?)="(.*?)"\]/g,function(t,e,n){return w[w.length]=[e,n],""}).replace(/\.([^.]+)/g,function(t,e){return m[m.length]=e,""}),v=0;v<w.length;v++)k[y-1].setAttribute(w[v][0],w[v][1]);for(v=0;v<m.length;v++)k[y-1].classList.add(m[v]);k[y-1].__data__=u[y-1]}}return r(d,h,j)}for(var l=u.nodes=Array===t.constructor?t:"string"==typeof t?document.querySelectorAll(t):[t],c=l.length;c-- >0;)l[c].evented||i(l[c],c);return u.node=function(){return l[0]},u.enter=function(){return r(e)},u.exit=function(){return r(n)},u.text=function(t){var e="function"==typeof t;return 0===arguments.length?l[0].textContent:(this.each(function(n,r){var i,o=""+(e?t.call(this,n,r):t);this.textContent!==o&&((i=this.firstChild)?"#text"===i.nodeName?i.nodeValue=o:this.textContent=o:this.appendChild(document.createTextNode(o)))}),this)},u.html=function(t){var e="function"==typeof t;return 0===arguments.length?l[0].innerHTML:(this.each(function(n,r){var i=""+(e?t.call(this,n,r):t);this.innerHTML!==i&&(this.innerHTML=i)}),this)},u.attr=function(t,e){var n="function"==typeof e;return 1===arguments.length?l[0].getAttribute(t):(this.each(function(r,i){var o=n?e.call(this,r,i):e;!o&&this.hasAttribute(t)?this.removeAttribute(t):o&&this.getAttribute(t)!==o&&this.setAttribute(t,o)}),this)},u.classed=function(t,e){var n="function"==typeof e;return 1===arguments.length?l[0].classList.contains(t):(this.each(function(r,i){var o=n?e.call(this,r,i):e;o&&!this.classList.contains(t)?this.classList.add(t):!o&&this.classList.contains(t)&&this.classList.remove(t)}),this)},u.property=function(t,e){var n="function"==typeof e;return 1===arguments.length?s(t)(l[0]):(this.each(function(r,i){var o=n?e.call(this,r,i):e;void 0!==o&&s(t)(this)!==o&&s(t,function(){return o})(this)}),this)},u.each=function(t){for(c=0;node=l[c++];)t.call(node,node.__data__,c-1);return this},u.remove=function(){return this.each(function(t){this.parentNode.removeChild(this)}),this},u.draw=o("draw",u),u.once=o("once",u),u.emit=o("emit",u),u.on=o("on",u),u}function i(t,e){function n(t){window.event=t||window.event,"object"==typeof window.d3&&(window.d3.event=t);var n="CustomEvent"===t.constructor.name||~t.toString().indexOf("CustomEvent");i(t.type,[n&&t.detail||this.__data__,e])}t.on||u(t);var r=t.on,i=t.emit;t.evented=!0,t.on=function(e){return t.addEventListener(e.split(".").shift(),n),r.apply(t,arguments),t},t.emit=function(e,n,r){var i=r||{detail:n,bubbles:!1,cancelable:!1};return(t.host||t).dispatchEvent(new window.CustomEvent(e,i)),t}}function o(t,e){return function(){var n=arguments;return e.each(function(e){this[t]&&this[t].apply(this,n)}),e}}var u=t("utilise/emitterify"),s=t("utilise/key");e.exports=r},{"utilise/emitterify":18,"utilise/key":39}],53:[function(t,e,n){var r=(t("utilise/is"),t("utilise/keys")),i=t("utilise/copy");e.exports=function(t){return function(e){return r(e).map(i(e,t)),t}}},{"utilise/copy":12,"utilise/is":37,"utilise/keys":40}],54:[function(t,e,n){(function(n){e.exports=t("utilise/client")?window:n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"utilise/client":9}],55:[function(t,e,n){e.exports=function(t){return t&&JSON.parse(t)}},{}],56:[function(t,e,n){(function(n){var r=t("utilise/log")("[perf]"),i=t("utilise/client");e.exports=function(t,e){return function(){var o=i?performance.now():n.hrtime(),u=t.apply(this,arguments),s=i?performance.now()-o:n.hrtime(o);return!i&&(s=1e3*s[0]+s[1]/1e6),s=Math.round(100*s)/100,r(e||t.name,s,"ms"),s,u}}}).call(this,t("_process"))},{_process:48,"utilise/client":9,"utilise/log":44}],57:[function(t,e,n){var r=t("utilise/last"),i=t("utilise/set"),o=t("utilise/is");e.exports=function(t){return o.arr(t)?i({key:t.length-1,value:r(t),type:"remove"})(t):t}},{"utilise/is":37,"utilise/last":41,"utilise/set":69}],58:[function(t,e,n){e.exports=function(t){return function(e){return t+e}}},{}],59:[function(t,e,n){function r(){var t,e,n=new Promise(function(n,r){t=n,e=r});return arguments.length&&t(arguments[0]),n.resolve=t,n.reject=e,n}function i(t){return function(){return r(arguments[t])}}function o(t){return function(){var e=arguments,n={then:function(r){return r(e[t]),n}};return n}}function u(){return r()}function s(){return r(null)}r.sync=o,r["null"]=s,r.noop=u,r.args=i,e.exports=r},{}],60:[function(t,e,n){var r=t("utilise/is"),i=t("utilise/identity");e.exports=function(t,e,n){return function(){var o=(t||i).apply(n||this,arguments);return r.fn(e)?e.call(n||this,o):e||o}}},{"utilise/identity":34,"utilise/is":37}],61:[function(t,e,n){var r=t("utilise/set"),i=t("utilise/is");e.exports=function(t){return function(e){return i.arr(e)?r({key:e.length,value:t,type:"add"})(e):e}}},{"utilise/is":37,"utilise/set":69}],62:[function(t,e,n){e.exports=function(t,e){var n=!e&&document.head.createShadowRoot?"html /deep/ ":"";return(e?e:document).querySelector(n+t)}},{}],63:[function(t,e,n){e.exports=function(t){return document.body?t():document.addEventListener("DOMContentLoaded",t.bind(this))}},{}],64:[function(t,e,n){function r(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}e.exports=function(t,e){for(var n,i=1,o=arguments.length;++i<o;)t[n=arguments[i]]=r(t,e,e[n]);return t}},{}],65:[function(t,e,n){var r=t("utilise/set"),i=t("utilise/key");e.exports=function(t){return function(e){return r({key:t,value:i(t)(e),type:"remove"})(e)}}},{"utilise/key":39,"utilise/set":69}],66:[function(t,e,n){e.exports=function(t,e){return function(n){return n.replace(t,e)}}},{}],67:[function(t,e,n){var r=t("utilise/sel");e.exports=function(t){var e=t?t.node?t:r(t):d3;return function(t){return t.node?t:t.nodeName?r(t):e.selectAll(t)}}},{"utilise/sel":68}],68:[function(t,e,n){e.exports=function(t){return t.node?t:d3.select(t)}},{}],69:[function(t,e,n){function r(t,e,n){var r=e.split("."),i=r.pop(),u=o(r.join("."))(t);return{body:u,tail:i}}var i=t("utilise/last"),o=t("utilise/key"),u=t("utilise/str"),s=t("utilise/is");e.exports=n=function c(t){return function(e){if(!(e&&s.obj(e)&&t&&s.obj(t)))return e;var n=u(t.key);return l.raw[t.type](e,n,t.value),c.commit(e,{key:n,value:t.value,type:t.type})}},n.commit=function(t,e){var n=t.log;return n&&n.push({diff:e,value:l.imm[e.type](i(n).value,e.key.split("."),e.value)}),t.emit&&t.emit("log",e),t};var l={raw:{add:function(t,e,n){var i=r(t,e);return s.arr(i.body)?i.body.splice(i.tail,0,n):o(e,n)(t)},update:function(t,e,n){return o(e,n)(t)},remove:function(t,e,n){var i=r(t,e);return s.arr(i.body)?i.body.splice(i.tail,1):i.body?delete i.body[i.tail]:!1}},imm:{update:function(t,e,n){return t.setIn(e,n)},remove:function(t,e,n){return t.deleteIn(e)},add:function(t,e,n){var r=e.slice(0,-1),i=e.slice(-1),o=t.getIn(r);return o&&o.splice?t.setIn(r,o.splice(i,0,n)):t.setIn(e,n)}}}},{"utilise/is":37,"utilise/key":39,"utilise/last":41,"utilise/str":73}],70:[function(t,e,n){e.exports=function(t,e){return function(n){return n.slice(t,e)}}},{}],71:[function(t,e,n){e.exports=function(t){return function(e){return e.sort(t)}}},{}],72:[function(t,e,n){e.exports=function(t){return function(e){return e.split(t)}}},{}],73:[function(t,e,n){var r=t("utilise/is");e.exports=function(t){return 0===t?"0":t?r.fn(t)?""+t:r.obj(t)?JSON.stringify(t):String(t):""}},{"utilise/is":37}],74:[function(t,e,n){var r=t("utilise/is");e.exports=function(t){return(r.arr(t)?t[0]:t).replace(/[\s]{2,}/gim,"")}},{"utilise/is":37}],75:[function(t,e,n){e.exports=function(t,e,n){var r=t.node?t.node():t;return r.state=n||{},r.draw=function(t){return e&&e.call(r,r.state)},r.draw(),t}},{}],76:[function(t,e,n){e.exports=function(t){return function(){return t(this).apply(this,arguments)}}},{}],77:[function(t,e,n){e.exports=function(t,e){return setTimeout(e,t)}},{}],78:[function(t,e,n){t("./owner").all=t("./all.js"),t("./owner").append=t("./append.js"),t("./owner").args=t("./args.js"),t("./owner").attr=t("./attr.js"),t("./owner").az=t("./az.js"),t("./owner").body=t("./body.js"),t("./owner").by=t("./by.js"),t("./owner").chainable=t("./chainable.js"),t("./owner").client=t("./client.js"),t("./owner").clone=t("./clone.js"),t("./owner").colorfill=t("./colorfill.js"),t("./owner").copy=t("./copy.js"),t("./owner").datum=t("./datum.js"),t("./owner").debounce=t("./debounce.js"),t("./owner").def=t("./def.js"),t("./owner").defaults=t("./defaults.js"),t("./owner").el=t("./el.js"),t("./owner").emitterify=t("./emitterify.js"),t("./owner").err=t("./err.js"),t("./owner").escape=t("./escape.js"),t("./owner").extend=t("./extend.js"),t("./owner").falsy=t("./falsy.js"),t("./owner").filter=t("./filter.js"),t("./owner").first=t("./first.js"),t("./owner").flatten=t("./flatten.js"),t("./owner").fn=t("./fn.js"),t("./owner").from=t("./from.js"),t("./owner").grep=t("./grep.js"),t("./owner").group=t("./group.js"),t("./owner").gt=t("./gt.js"),t("./owner").has=t("./has.js"),t("./owner").hashcode=t("./hashcode.js"),t("./owner").header=t("./header.js"),t("./owner").identity=t("./identity.js"),t("./owner").iff=t("./iff.js"),t("./owner").includes=t("./includes.js"),t("./owner").is=t("./is.js"),t("./owner").join=t("./join.js"),t("./owner").key=t("./key.js"),t("./owner").keys=t("./keys.js"),t("./owner").last=t("./last.js"),t("./owner").link=t("./link.js"),t("./owner").lo=t("./lo.js"),t("./owner").log=t("./log.js"),t("./owner").lt=t("./lt.js"),t("./owner").mo=t("./mo.js"),t("./owner").noop=t("./noop.js"),t("./owner").not=t("./not.js"),t("./owner").nullify=t("./nullify.js"),t("./owner").once=t("./once.js"),t("./owner").overwrite=t("./overwrite.js"),t("./owner").owner=t("./owner.js"),t("./owner").parse=t("./parse.js"),t("./owner").perf=t("./perf.js"),t("./owner").pop=t("./pop.js"),t("./owner").prepend=t("./prepend.js"),t("./owner").promise=t("./promise.js"),t("./owner").proxy=t("./proxy.js"),t("./owner").push=t("./push.js"),t("./owner").raw=t("./raw.js"),t("./owner").ready=t("./ready.js"),t("./owner").rebind=t("./rebind.js"),t("./owner").remove=t("./remove.js"),t("./owner").replace=t("./replace.js"),t("./owner").sall=t("./sall.js"),t("./owner").sel=t("./sel.js"),t("./owner").set=t("./set.js"),t("./owner").slice=t("./slice.js"),t("./owner").sort=t("./sort.js"),t("./owner").split=t("./split.js"),t("./owner").str=t("./str.js"),t("./owner").stripws=t("./stripws.js"),t("./owner").tdraw=t("./tdraw.js"),t("./owner").th=t("./th.js"),t("./owner").time=t("./time.js"),t("./owner").to=t("./to.js"),t("./owner").unique=t("./unique.js"),t("./owner").update=t("./update.js"),t("./owner").values=t("./values.js"),t("./owner").wait=t("./wait.js"),t("./owner").wrap=t("./wrap.js"),t("./owner").za=t("./za.js")},{"./all.js":1,"./append.js":2,"./args.js":3,"./attr.js":4,"./az.js":5,"./body.js":6,"./by.js":7,"./chainable.js":8,"./client.js":9,"./clone.js":10,"./colorfill.js":11,"./copy.js":12,"./datum.js":13,"./debounce.js":14,"./def.js":15,"./defaults.js":16,"./el.js":17,"./emitterify.js":18,"./err.js":19,"./escape.js":20,"./extend.js":21,"./falsy.js":22,"./filter.js":23,"./first.js":24,"./flatten.js":25,"./fn.js":26,"./from.js":27,"./grep.js":28,"./group.js":29,"./gt.js":30,"./has.js":31,"./hashcode.js":32,"./header.js":33,"./identity.js":34,"./iff.js":35,"./includes.js":36,"./is.js":37,"./join.js":38,"./key.js":39,"./keys.js":40,"./last.js":41,"./link.js":42,"./lo.js":43,"./log.js":44,"./lt.js":45,"./mo.js":46,"./noop.js":49,"./not.js":50,"./nullify.js":51,"./once.js":52,"./overwrite.js":53,"./owner":54,"./owner.js":54,"./parse.js":55,"./perf.js":56,"./pop.js":57,"./prepend.js":58,"./promise.js":59,"./proxy.js":60,"./push.js":61,"./raw.js":62,"./ready.js":63,"./rebind.js":64,"./remove.js":65,"./replace.js":66,"./sall.js":67,"./sel.js":68,"./set.js":69,"./slice.js":70,"./sort.js":71,"./split.js":72,"./str.js":73,"./stripws.js":74,"./tdraw.js":75,"./th.js":76,"./time.js":77,"./to.js":79,"./unique.js":80,"./update.js":81,"./values.js":82,"./wait.js":83,"./wrap.js":84,"./za.js":85}],79:[function(t,e,n){function r(t){return Array.prototype.slice.call(t,0)}function i(t){function e(t,e,r){return 0===r&&(t={}),t[e[n]]=e,t}var n="id";return 1==arguments.length?(n=t,e):e.apply(this,arguments)}e.exports={arr:r,obj:i}},{}],80:[function(t,e,n){var r=t("utilise/is");e.exports=function i(t,e){return e||(i.matched=[]),r["in"](i.matched)(t)?!1:i.matched.push(t)}},{"utilise/is":37}],81:[function(t,e,n){var r=t("utilise/set");e.exports=function(t,e){return function(n){return r({key:t,value:e,type:"update"})(n)}}},{"utilise/set":69}],82:[function(t,e,n){var r=t("utilise/keys"),i=t("utilise/from");e.exports=function(t){return t?r(t).map(i(t)):[]}},{"utilise/from":27,"utilise/keys":40}],83:[function(t,e,n){e.exports=function r(t){return function(e){return function(){var n=t.apply(this,arguments);n?e.apply(this,arguments):this.once("change",r(t)(e))}}}},{}],84:[function(t,e,n){e.exports=function(t){return function(){return t}}},{}],85:[function(t,e,n){var r=t("utilise/key");e.exports=function(t){return function(e,n){var i=r(t)(e)||"",o=r(t)(n)||"";return i>o?-1:o>i?1:0}}},{"utilise/key":39}]},{},[78])(78)});
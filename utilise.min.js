!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.utilise=t()}}(function(){return function t(e,n,i){function r(u,s){if(!n[u]){if(!e[u]){var l="function"==typeof require&&require;if(!s&&l)return l(u,!0);if(o)return o(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[u]={exports:{}};e[u][0].call(f.exports,function(t){var n=e[u][1][t];return r(n?n:t)},f,f.exports,t,e,n,i)}return n[u].exports}for(var o="function"==typeof require&&require,u=0;u<i.length;u++)r(i[u]);return r}({1:[function(t,e,n){var i=t("utilise/to");e.exports=function(t,e){var n=!e&&document.head.createShadowRoot?"html /deep/ ":"";return i.arr((e||document).querySelectorAll(n+t))}},{"utilise/to":80}],2:[function(t,e,n){e.exports=function(t){return function(e){return e+t}}},{}],3:[function(t,e,n){var i=t("utilise/to"),r=t("utilise/is");e.exports=function(t){return function(e,n){return function(){var o=r.arr(t)?t:[t],u=i.arr(arguments).filter(function(t,e){return r["in"](o)(e)});return e.apply(n||this,u)}}}},{"utilise/is":38,"utilise/to":80}],4:[function(t,e,n){var i=t("utilise/is");e.exports=function r(t,e){var n=arguments.length;return i.str(t)||2!=n?i.str(t)||3!=n?function(r){return r=this.nodeName||i.fn(this.node)?this:r,r=r.node?r.node():r,r=r.host||r,n>1&&e===!1?r.removeAttribute(t):n>1?(r.setAttribute(t,e),e):r.attributes.getNamedItem(t)&&r.attributes.getNamedItem(t).value}:r(arguments[1],arguments[2]).call(this,arguments[0]):r(arguments[1]).call(this,arguments[0])}},{"utilise/is":38}],5:[function(t,e,n){var i=t("utilise/key");e.exports=function(t){return function(e,n){var r=i(t)(e)||"",o=i(t)(n)||"";return r>o?1:o>r?-1:0}}},{"utilise/key":40}],6:[function(t,e,n){e.exports=function(t){return function(e){var n=t.resources[e];return n&&n.body}}},{}],7:[function(t,e,n){var i=t("utilise/key"),r=t("utilise/is");e.exports=function(t,e){var n=1==arguments.length;return function(o){var u=i(t)(o);return u&&e&&u.toLowerCase&&e.toLowerCase?u.toLowerCase()===e.toLowerCase():n?Boolean(u):r.fn(e)?e(u):u==e}}},{"utilise/is":38,"utilise/key":40}],8:[function(t,e,n){e.exports=function(t){return function(){return t.apply(this,arguments),t}}},{}],9:[function(t,e,n){e.exports="undefined"!=typeof window},{}],10:[function(t,e,n){var i=t("utilise/parse"),r=t("utilise/str"),o=t("utilise/is");e.exports=function(t){return o.fn(t)||o.str(t)?t:i(r(t))}},{"utilise/is":38,"utilise/parse":56,"utilise/str":74}],11:[function(t,e,n){function i(){["red","green","bold","grey","strip"].forEach(function(t){!o.str(String.prototype[t])&&Object.defineProperty(String.prototype,t,{get:function(){return String(this)}})})}var r=t("utilise/client"),o=(!r&&t("colors"),t("utilise/has"),t("utilise/is"));e.exports=i()},{colors:48,"utilise/client":9,"utilise/has":32,"utilise/is":38}],12:[function(t,e,n){e.exports=function(t,e){return function(n){return e[n]=t[n],n}}},{}],13:[function(t,e,n){t("utilise/sel");e.exports=function(t){return t.__data__}},{"utilise/sel":69}],14:[function(t,e,n){var i=t("utilise/is");e.exports=function(t){function e(t){return function(){var e=this,i=arguments;n&&clearTimeout(n),n=setTimeout(function(){t.apply(e,i)},r)}}var n,r=i.num(t)?t:100;return i.fn(t)?e(t):e}},{"utilise/is":38}],15:[function(t,e,n){var i=t("utilise/has");e.exports=function(t,e,n,r){return!i(t,e)&&Object.defineProperty(t,e,{value:n,writable:r}),t[e]}},{"utilise/has":32}],16:[function(t,e,n){var i=(t("utilise/extend"),t("utilise/keys")),r=t("utilise/is");e.exports=function(t,e,n){function o(e,n){r.def(t[e])||(t[e]=n)}return t.host&&(t=t.host),r.obj(e)?(i(e).map(function(t){o(t,e[t])}),t):(o(e,n),t[e])}},{"utilise/extend":22,"utilise/is":38,"utilise/keys":41}],17:[function(t,e,n){e.exports=function(t){return function(e){t.once("response._"+(t.log.length-1),e)}}},{}],18:[function(t,e,n){var i=t("utilise/attr"),r=(t("utilise/split"),t("utilise/replace"),t("utilise/prepend"));e.exports=function(t){var e=[],n=t.replace(/\[(.+?)=(.*?)\]/g,function(t,n,i){return e.push([n,i]),""}).split("."),o=n.shift(),u=document.createElement(o);return e.forEach(function(t){i(u,t[0],t[1])}),n.forEach(function(t){u.classList.add(t)}),u.toString=function(){return o+n.map(r(".")).join("")},u}},{"utilise/attr":4,"utilise/prepend":59,"utilise/replace":67,"utilise/split":73}],19:[function(t,e,n){var i=t("utilise/err")("[emitterify]"),r=t("utilise/keys"),o=t("utilise/def"),u=t("utilise/not"),s=t("utilise/is");e.exports=function(t,e){function n(n,i,o){var c=n.split(".")[1],f=n.split(".")[0],a=t.on[f]||[],p=(a.length-1,s.def(i)?i:s.def(e)?e:[t]),d=s.arr(p)?p:[p];if(c)return l(a,c,d),t;for(var h=a.length;h>=0;h--)l(a,h,d);return r(a).filter(u(isFinite)).filter(o||Boolean).map(function(t){return l(a,t,d)}),t}function l(e,n,r){if(e[n]){var o=e[n];e[n].once&&(isFinite(n)?e.splice(n,1):delete e[n]);try{o.apply(t,r)}catch(u){i(u,u.stack)}}}function c(e,n){var i=e.split(".")[1],r=e.split(".")[0];return t.on[r]=t.on[r]||[],n||i?!n&&i?t.on[r][i]:i?(t.on[r][i]=n,t):(t.on[r].push(n),t):t.on[r]}function f(e,n){return n.once=!0,t.on(e,n),t}return o(t,"emit",n,1),o(t,"once",f,1),o(t,"on",c,1),t}},{"utilise/def":15,"utilise/err":20,"utilise/is":38,"utilise/keys":41,"utilise/not":51}],20:[function(t,e,n){var i=t("utilise/owner"),r=t("utilise/to");e.exports=function(t){return function(e){if(!i.console||!console.error.apply)return e;var n=r.arr(arguments);return n.unshift(t.red?t.red:t),e}}},{"utilise/owner":55,"utilise/to":80}],21:[function(t,e,n){e.exports=function(t){return t.replace(/[&<>'"]/g,function(t){return i[t]})};var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}},{}],22:[function(t,e,n){var i=t("utilise/is"),r=t("utilise/not"),o=t("utilise/keys"),u=t("utilise/copy");e.exports=function(t){return function(e){return o(e).filter(r(i["in"](t))).map(u(e,t)),t}}},{"utilise/copy":12,"utilise/is":38,"utilise/keys":41,"utilise/not":51}],23:[function(t,e,n){e.exports=function(){return!1}},{}],24:[function(t,e,n){e.exports=function(t){return function(e){return e.filter(t)}}},{}],25:[function(t,e,n){e.exports=function(t){return t&&t[0]}},{}],26:[function(t,e,n){var i=t("utilise/is");e.exports=function r(t,e){return i.arr(e)&&(e=e.reduce(r,[])),t=t||[],t.concat(e)}},{"utilise/is":38}],27:[function(t,e,n){var i=t("utilise/is");e.exports=function(t){return i.fn(t)?t:new Function("return "+t)()}},{"utilise/is":38}],28:[function(t,e,n){function i(t){return function(e){return u(e)(t)}}function r(t){return o(this.parentNode)[t]}var o=t("utilise/datum"),u=t("utilise/key");e.exports=i,i.parent=r},{"utilise/datum":13,"utilise/key":40}],29:[function(t,e,n){var i=t("utilise/to"),r=t("utilise/is");e.exports=function(t,e,n){var o=t[e];return t[e]=function(){var t=i.arr(arguments).filter(r.str).join(" ");return t.match(n)&&o.apply(this,arguments)},o}},{"utilise/is":38,"utilise/to":80}],30:[function(t,e,n){function i(){console.groupCollapsed=console.groupEnd=function(t){(console.log||o)("*****",t,"*****")}}var r=(t("utilise/client"),t("utilise/owner")),o=t("utilise/noop");e.exports=function(t,e){if(!r.console)return e();console.groupCollapsed||i();var n=e();return n}},{"utilise/client":9,"utilise/noop":50,"utilise/owner":55}],31:[function(t,e,n){var i=t("utilise/key");e.exports=function(t,e){return function(n){return i(t)(n)>e}}},{"utilise/key":40}],32:[function(t,e,n){e.exports=function(t,e){return e in t}},{}],33:[function(t,e,n){e.exports=function(t){var e=0;if(!t)return e;for(var n=0;n<t.length;n++){var i=t.charCodeAt(n);e=(e<<5)-e+i,e&=e}return e}},{}],34:[function(t,e,n){var i=t("utilise/key");e.exports=function r(r,t){var e=1==arguments.length;return function(n){return n&&n.headers?e?i(r)(n.headers):i(r)(n.headers)==t:null}}},{"utilise/key":40}],35:[function(t,e,n){e.exports=function(t){return t}},{}],36:[function(t,e,n){e.exports=function(t){return function(e){return function(){return t.apply(this,arguments)?e.apply(this,arguments):void 0}}}},{}],37:[function(t,e,n){e.exports=function(t){return function(e){return e&&e.indexOf&&~e.indexOf(t)}}},{}],38:[function(t,e,n){function i(t){return function(e){return e==t}}function r(t){return"function"==typeof t}function o(t){return"boolean"==typeof t}function u(t){return"string"==typeof t}function s(t){return"number"==typeof t}function l(t){return"object"==typeof t}function c(t){return"object"==typeof t&&!(t instanceof Array)}function f(t){return 1==!!t}function a(t){return 0==!!t}function p(t){return t instanceof Array}function d(t){return null===t}function h(t){return"undefined"!=typeof t}function j(t){return function(e){return t?t.indexOf?~t.indexOf(e):e in t:!1}}e.exports=i,i.fn=r,i.str=u,i.num=s,i.obj=l,i.lit=c,i.bol=o,i.truthy=f,i.falsy=a,i.arr=p,i["null"]=d,i.def=h,i["in"]=j},{}],39:[function(t,e,n){var i=(t("utilise/clone"),t("utilise/key")),r=t("utilise/by"),o=t("utilise/is");e.exports=function(t,e){return 1==arguments.length&&(e=t,t=null),function(n,u){if(null!==n&&void 0!==n){var s=e||[],l=null;if(u&&!o.num(u)||(u="id"),o.str(e)){var c=e.split(".");s=ripple(c.shift()),l=c.join(".")}var f=i(t)(n),a=s.filter(r(u,f)).map(i(l)).pop()||{};return t?i(t,a)(n):a}}}},{"utilise/by":7,"utilise/clone":10,"utilise/is":38,"utilise/key":40}],40:[function(t,e,n){var i=t("utilise/str"),r=t("utilise/is");e.exports=function o(t,e){var n=arguments.length>1,u=i(t).split("."),s=u.shift();return function(i,l){function c(t){var e=o(t)(i);void 0!=e&&o(t,e)(f)}var f={};return i?r.num(t)||t?r.arr(t)?(t.map(c),f):i[t]||!u.length?n?(i[t]=r.fn(e)?e(i[t],l):e,i):i[t]:n?(o(u.join("."),e)(i[s]?i[s]:i[s]={}),i):o(u.join("."))(i[s]):i:void 0}}},{"utilise/is":38,"utilise/str":74}],41:[function(t,e,n){e.exports=function(t){return Object.keys(t||{})}},{}],42:[function(t,e,n){e.exports=function(t){return t&&t[t.length-1]}},{}],43:[function(t,e,n){function i(t,e){function n(){var n=o(t.el,t.attr);o(e.el,e.attr,n)}var t=r(t),e=r(e);if(t.el&&e.el){n();var i=new MutationObserver(n);i.observe(t.el,{attributes:!0,attributeFilter:[t.attr]})}}function r(t){var e=t.split("[")[0],n=t.split("[")[1].split("]")[0];return{el:u(e),attr:n}}var o=t("utilise/attr"),u=t("utilise/raw");e.exports=i},{"utilise/attr":4,"utilise/raw":63}],44:[function(t,e,n){e.exports=function(t){return(t||"").toLowerCase()}},{}],45:[function(t,e,n){var i=t("utilise/is"),r=t("utilise/to"),o=t("utilise/owner");e.exports=function(t){return function(e){if(!o.console||!console.log.apply)return e;i.arr(arguments[2])&&(arguments[2]=arguments[2].length);var n=r.arr(arguments);return n.unshift(t.grey?t.grey:t),e}}},{"utilise/is":38,"utilise/owner":55,"utilise/to":80}],46:[function(t,e,n){var i=t("utilise/key");e.exports=function(t,e){return function(n){return i(t)(n)<e}}},{"utilise/key":40}],47:[function(t,e,n){function i(t){return u.moment(t)}function r(t){return function(e){return i(e).format(t)}}function o(t){return i(t).format("YYYY-MM-DD")}var u=t("utilise/owner");e.exports=i,i.format=r,i.iso=o},{"utilise/owner":55}],48:[function(t,e,n){},{}],49:[function(t,e,n){function i(){f=!1,s.length?c=s.concat(c):a=-1,c.length&&r()}function r(){if(!f){var t=setTimeout(i);f=!0;for(var e=c.length;e;){for(s=c,c=[];++a<e;)s&&s[a].run();a=-1,e=c.length}s=null,f=!1,clearTimeout(t)}}function o(t,e){this.fun=t,this.array=e}function u(){}var s,l=e.exports={},c=[],f=!1,a=-1;l.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new o(t,e)),1!==c.length||f||setTimeout(r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=u,l.addListener=u,l.once=u,l.off=u,l.removeListener=u,l.removeAllListeners=u,l.emit=u,l.binding=function(t){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(t){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],50:[function(t,e,n){e.exports=function(){}},{}],51:[function(t,e,n){e.exports=function(t){return function(){return!t.apply(this,arguments)}}},{}],52:[function(t,e,n){var i=t("utilise/is");e.exports=function(t){return i.fn(t)?function(){return t.apply(this,arguments)?!0:null}:t?!0:null}},{"utilise/is":38}],53:[function(t,e,n){function i(t,e,n){function u(t,e,n,r){var o,u,s,f,a,p=l.length,d=[],h=[],j=[],y=0,v=0,w=[],g=[];if(c=p+1,1===arguments.length){if("string"!=typeof t)return i(t);for(;--c>0;)d=d.concat(Array.prototype.slice.call(l[p-c].querySelectorAll(t),0));return i(d)}if(1===e&&"string"==typeof t&&2==arguments.length){for(;--c>0;){for(f=l[p-c],y=f.children.length;y-- >0;)if(f.children[y].matches(t)){d[d.length]=f.children[y],f.children[y].__data__=f.__data__||1;break}if(0>y){for(s=/([^\.\[]*)/.exec(t)[1]||"div",f.appendChild(a=d[d.length]=h[h.length]=document.createElement(s)),w=[],g=[],t.replace(/\[(.+?)="(.*?)"\]/g,function(t,e,n){return w[w.length]=[e,n],""}).replace(/\.([^.]+)/g,function(t,e){return g[g.length]=e,""}),v=0;v<w.length;v++)a.setAttribute(w[v][0],w[v][1]);for(v=0;v<g.length;v++)a.classList.add(g[v]);a.__data__=f.__data__||1}}return i(d,h,j)}for(;--c>0;){f=l[p-c],o="function"==typeof t?t(f.__data__):t,u="function"==typeof e?e(f.__data__):e,1===e&&(u=f.__data__||[1]),"string"==typeof u&&(u=[u]),u||(u=[]),u.constructor!==Array&&(u=[u]);var m=f.children.length,x=m+1,b=u.length,_=new Array(b);for(y=0;--x>0;)a=f.children[m-x],a.matches(o)&&(++y>b?(m--,f.removeChild(j[j.length]=a)):(a.__data__=u[y-1],d[d.length]=_[y-1]=a,"function"==typeof _[y-1].draw&&_[y-1].draw()));for(;y++<b;){for(s=o.call?o(u[y-1],y-1):/([^\.\[]*)/.exec(o)[1]||"div",r?f.insertBefore(_[y-1]=d[d.length]=h[h.length]=document.createElement(s),f.querySelector(r)):f.appendChild(_[y-1]=d[d.length]=h[h.length]=document.createElement(s)),w=[],g=[],o.toString().replace(/\[(.+?)="(.*?)"\]/g,function(t,e,n){return w[w.length]=[e,n],""}).replace(/\.([^.]+)/g,function(t,e){return g[g.length]=e,""}),v=0;v<w.length;v++)_[y-1].setAttribute(w[v][0],w[v][1]);for(v=0;v<g.length;v++)_[y-1].classList.add(g[v]);_[y-1].__data__=u[y-1]}}return i(d,h,j)}for(var l=u.nodes=Array===t.constructor?t:"string"==typeof t?document.querySelectorAll(t):[t],c=l.length;c-- >0;)l[c].evented||r(l[c],c);return u.node=function(){return l[0]},u.enter=function(){return i(e)},u.exit=function(){return i(n)},u.text=function(t){var e="function"==typeof t;return 0===arguments.length?l[0].textContent:(this.each(function(n,i){var r,o=""+(e?t.call(this,n,i):t);this.textContent!==o&&((r=this.firstChild)?"#text"===r.nodeName?r.nodeValue=o:this.textContent=o:this.appendChild(document.createTextNode(o)))}),this)},u.html=function(t){var e="function"==typeof t;return 0===arguments.length?l[0].innerHTML:(this.each(function(n,i){var r=""+(e?t.call(this,n,i):t);this.innerHTML!==r&&(this.innerHTML=r)}),this)},u.attr=function(t,e){var n="function"==typeof e;return 1===arguments.length?l[0].getAttribute(t):(this.each(function(i,r){var o=n?e.call(this,i,r):e;!o&&this.hasAttribute(t)?this.removeAttribute(t):o&&this.getAttribute(t)!==o&&this.setAttribute(t,o)}),this)},u.classed=function(t,e){var n="function"==typeof e;return 1===arguments.length?l[0].classList.contains(t):(this.each(function(i,r){var o=n?e.call(this,i,r):e;o&&!this.classList.contains(t)?this.classList.add(t):!o&&this.classList.contains(t)&&this.classList.remove(t)}),this)},u.property=function(t,e){var n="function"==typeof e;return 1===arguments.length?s(t)(l[0]):(this.each(function(i,r){var o=n?e.call(this,i,r):e;void 0!==o&&s(t)(this)!==o&&s(t,function(){return o})(this)}),this)},u.each=function(t){for(c=0;node=l[c++];)t.call(node,node.__data__,c-1);return this},u.remove=function(){return this.each(function(t){this.parentNode.removeChild(this)}),this},u.draw=o("draw",u),u.once=o("once",u),u.emit=o("emit",u),u.on=o("on",u),u}function r(t,e){function n(t){window.event=t||window.event,"object"==typeof window.d3&&(window.d3.event=t);var n="CustomEvent"===t.constructor.name||~t.toString().indexOf("CustomEvent");r(t.type,[n&&t.detail||this.__data__,e])}t.on||u(t);var i=t.on,r=t.emit;t.evented=!0,t.on=function(e){return t.addEventListener(e.split(".").shift(),n),i.apply(t,arguments),t},t.emit=function(e,n,i){var r=i||{detail:n,bubbles:!1,cancelable:!1};return(t.host||t).dispatchEvent(new window.CustomEvent(e,r)),t}}function o(t,e){return function(){var n=arguments;return e.each(function(e){this[t]&&this[t].apply(this,n)}),e}}var u=t("utilise/emitterify"),s=t("utilise/key");e.exports=i},{"utilise/emitterify":19,"utilise/key":40}],54:[function(t,e,n){var i=(t("utilise/is"),t("utilise/keys")),r=t("utilise/copy");e.exports=function(t){return function(e){return i(e).map(r(e,t)),t}}},{"utilise/copy":12,"utilise/is":38,"utilise/keys":41}],55:[function(t,e,n){(function(n){e.exports=t("utilise/client")?window:n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"utilise/client":9}],56:[function(t,e,n){e.exports=function(t){return t&&JSON.parse(t)}},{}],57:[function(t,e,n){(function(n){var i=t("utilise/log")("[perf]"),r=t("utilise/client");e.exports=function(t,e){return function(){var o=r?performance.now():n.hrtime(),u=t.apply(this,arguments),s=r?performance.now()-o:n.hrtime(o);return!r&&(s=1e3*s[0]+s[1]/1e6),s=Math.round(100*s)/100,i(e||t.name,s,"ms"),s,u}}}).call(this,t("_process"))},{_process:49,"utilise/client":9,"utilise/log":45}],58:[function(t,e,n){var i=t("utilise/last"),r=t("utilise/set"),o=t("utilise/is");e.exports=function(t){return o.arr(t)?r({key:t.length-1,value:i(t),type:"remove"})(t):t}},{"utilise/is":38,"utilise/last":42,"utilise/set":70}],59:[function(t,e,n){e.exports=function(t){return function(e){return t+e}}},{}],60:[function(t,e,n){function i(){var t,e,n=new Promise(function(n,i){t=n,e=i});return arguments.length&&t(arguments[0]),n.resolve=t,n.reject=e,n}function r(t){return function(){return i(arguments[t])}}function o(t){return function(){var e=arguments,n={then:function(i){return i(e[t]),n}};return n}}function u(){return i()}function s(){return i(null)}i.sync=o,i["null"]=s,i.noop=u,i.args=r,e.exports=i},{}],61:[function(t,e,n){var i=t("utilise/is"),r=t("utilise/identity");e.exports=function(t,e,n){return function(){var o=(t||r).apply(n||this,arguments);return i.fn(e)?e.call(n||this,o):e||o}}},{"utilise/identity":35,"utilise/is":38}],62:[function(t,e,n){var i=t("utilise/set"),r=t("utilise/is");e.exports=function(t){return function(e){return r.arr(e)?i({key:e.length,value:t,type:"add"})(e):e}}},{"utilise/is":38,"utilise/set":70}],63:[function(t,e,n){e.exports=function(t,e){var n=!e&&document.head.createShadowRoot?"html /deep/ ":"";return(e?e:document).querySelector(n+t)}},{}],64:[function(t,e,n){e.exports=function(t){return document.body?t():document.addEventListener("DOMContentLoaded",t.bind(this))}},{}],65:[function(t,e,n){function i(t,e,n){return function(){var i=n.apply(e,arguments);return i===e?t:i}}e.exports=function(t,e){for(var n,r=1,o=arguments.length;++r<o;)t[n=arguments[r]]=i(t,e,e[n]);return t}},{}],66:[function(t,e,n){var i=t("utilise/set"),r=t("utilise/key");e.exports=function(t){return function(e){return i({key:t,value:r(t)(e),type:"remove"})(e)}}},{"utilise/key":40,"utilise/set":70}],67:[function(t,e,n){e.exports=function(t,e){return function(n){return n.replace(t,e)}}},{}],68:[function(t,e,n){var i=t("utilise/sel");e.exports=function(t){var e=t?t.node?t:i(t):d3;return function(t){return t.node?t:t.nodeName?i(t):e.selectAll(t)}}},{"utilise/sel":69}],69:[function(t,e,n){e.exports=function(t){return t.node?t:d3.select(t)}},{}],70:[function(t,e,n){function i(t,e,n,r){var o=n.shift();if(n.length){if(!(o in t)){if("remove"==e)return;t[o]={}}i(t[o],e,n,r)}else s[e](t,o,r)}function r(t,e,n){f.arr(t)?t.splice(e,0,n):t[e]=n}function o(t,e,n){t[e]=n}function u(t,e,n){f.arr(t)?t.splice(e,1):delete t[e]}var s={add:r,update:o,remove:u},l=t("utilise/emitterify"),c=t("utilise/def"),f=t("utilise/is"),a=JSON.stringify,p=JSON.parse;e.exports=function(t){return function(e,n){if(!f.obj(e))return e;if(!f.obj(t)){var r=a(e),o=n||e.log||[],o=o.concat({type:"update",value:p(r),time:o.length}),u=p(r);return c(l(u,null),"log",o),u}return f.def(t.key)&&i(e,t.type,(t.key=""+t.key).split("."),t.value),e.log&&e.log.push((t.time=e.log.length,t)),e.emit&&e.emit("change",t),e}}},{"utilise/def":15,"utilise/emitterify":19,"utilise/is":38}],71:[function(t,e,n){e.exports=function(t,e){return function(n){return n.slice(t,e)}}},{}],72:[function(t,e,n){e.exports=function(t){return function(e){return e.sort(t)}}},{}],73:[function(t,e,n){e.exports=function(t){return function(e){return e.split(t)}}},{}],74:[function(t,e,n){var i=t("utilise/is");e.exports=function(t){return 0===t?"0":t?i.fn(t)?""+t:i.obj(t)?JSON.stringify(t):String(t):""}},{"utilise/is":38}],75:[function(t,e,n){var i=t("utilise/is");e.exports=function(t){return(i.arr(t)?t[0]:t).replace(/[\s]{2,}/gim,"")}},{"utilise/is":38}],76:[function(t,e,n){e.exports=function(t,e,n){var i=t.node?t.node():t;return i.state=n||{},i.draw=function(t){return e&&e.call(i,i.state)},i.draw(),t}},{}],77:[function(t,e,n){e.exports=function(t){return function(){return t(this).apply(this,arguments)}}},{}],78:[function(t,e,n){e.exports=function(t,e){return setTimeout(e,t)}},{}],79:[function(t,e,n){t("./owner").all=t("./all.js"),t("./owner").append=t("./append.js"),t("./owner").args=t("./args.js"),t("./owner").attr=t("./attr.js"),t("./owner").az=t("./az.js"),t("./owner").body=t("./body.js"),t("./owner").by=t("./by.js"),t("./owner").chainable=t("./chainable.js"),t("./owner").client=t("./client.js"),t("./owner").clone=t("./clone.js"),t("./owner").colorfill=t("./colorfill.js"),t("./owner").copy=t("./copy.js"),t("./owner").datum=t("./datum.js"),t("./owner").debounce=t("./debounce.js"),t("./owner").def=t("./def.js"),t("./owner").defaults=t("./defaults.js"),t("./owner").done=t("./done.js"),t("./owner").el=t("./el.js"),t("./owner").emitterify=t("./emitterify.js"),t("./owner").err=t("./err.js"),t("./owner").escape=t("./escape.js"),t("./owner").extend=t("./extend.js"),t("./owner").falsy=t("./falsy.js"),t("./owner").filter=t("./filter.js"),t("./owner").first=t("./first.js"),t("./owner").flatten=t("./flatten.js"),t("./owner").fn=t("./fn.js"),t("./owner").from=t("./from.js"),t("./owner").grep=t("./grep.js"),t("./owner").group=t("./group.js"),t("./owner").gt=t("./gt.js"),t("./owner").has=t("./has.js"),t("./owner").hashcode=t("./hashcode.js"),t("./owner").header=t("./header.js"),t("./owner").identity=t("./identity.js"),t("./owner").iff=t("./iff.js"),t("./owner").includes=t("./includes.js"),t("./owner").is=t("./is.js"),t("./owner").join=t("./join.js"),t("./owner").key=t("./key.js"),t("./owner").keys=t("./keys.js"),t("./owner").last=t("./last.js"),t("./owner").link=t("./link.js"),t("./owner").lo=t("./lo.js"),t("./owner").log=t("./log.js"),t("./owner").lt=t("./lt.js"),t("./owner").mo=t("./mo.js"),t("./owner").noop=t("./noop.js"),t("./owner").not=t("./not.js"),t("./owner").nullify=t("./nullify.js"),t("./owner").once=t("./once.js"),t("./owner").overwrite=t("./overwrite.js"),t("./owner").owner=t("./owner.js"),t("./owner").parse=t("./parse.js"),t("./owner").perf=t("./perf.js"),t("./owner").pop=t("./pop.js"),t("./owner").prepend=t("./prepend.js"),t("./owner").promise=t("./promise.js"),t("./owner").proxy=t("./proxy.js"),t("./owner").push=t("./push.js"),t("./owner").raw=t("./raw.js"),t("./owner").ready=t("./ready.js"),t("./owner").rebind=t("./rebind.js"),t("./owner").remove=t("./remove.js"),t("./owner").replace=t("./replace.js"),t("./owner").sall=t("./sall.js"),t("./owner").sel=t("./sel.js"),t("./owner").set=t("./set.js"),t("./owner").slice=t("./slice.js"),t("./owner").sort=t("./sort.js"),t("./owner").split=t("./split.js"),t("./owner").str=t("./str.js"),t("./owner").stripws=t("./stripws.js"),t("./owner").tdraw=t("./tdraw.js"),t("./owner").th=t("./th.js"),t("./owner").time=t("./time.js"),t("./owner").to=t("./to.js"),t("./owner").unique=t("./unique.js"),t("./owner").update=t("./update.js"),t("./owner").values=t("./values.js"),t("./owner").wait=t("./wait.js"),t("./owner").wrap=t("./wrap.js"),t("./owner").za=t("./za.js")},{"./all.js":1,"./append.js":2,"./args.js":3,"./attr.js":4,"./az.js":5,"./body.js":6,"./by.js":7,"./chainable.js":8,"./client.js":9,"./clone.js":10,"./colorfill.js":11,"./copy.js":12,"./datum.js":13,"./debounce.js":14,"./def.js":15,"./defaults.js":16,"./done.js":17,"./el.js":18,"./emitterify.js":19,"./err.js":20,"./escape.js":21,"./extend.js":22,"./falsy.js":23,"./filter.js":24,"./first.js":25,"./flatten.js":26,"./fn.js":27,"./from.js":28,"./grep.js":29,"./group.js":30,"./gt.js":31,"./has.js":32,"./hashcode.js":33,"./header.js":34,"./identity.js":35,"./iff.js":36,"./includes.js":37,"./is.js":38,"./join.js":39,"./key.js":40,"./keys.js":41,"./last.js":42,"./link.js":43,"./lo.js":44,"./log.js":45,"./lt.js":46,"./mo.js":47,"./noop.js":50,"./not.js":51,"./nullify.js":52,"./once.js":53,"./overwrite.js":54,"./owner":55,"./owner.js":55,"./parse.js":56,"./perf.js":57,"./pop.js":58,"./prepend.js":59,"./promise.js":60,"./proxy.js":61,"./push.js":62,"./raw.js":63,"./ready.js":64,"./rebind.js":65,"./remove.js":66,"./replace.js":67,"./sall.js":68,"./sel.js":69,"./set.js":70,"./slice.js":71,"./sort.js":72,"./split.js":73,"./str.js":74,"./stripws.js":75,"./tdraw.js":76,"./th.js":77,"./time.js":78,"./to.js":80,"./unique.js":81,"./update.js":82,"./values.js":83,"./wait.js":84,"./wrap.js":85,"./za.js":86}],80:[function(t,e,n){function i(t){return Array.prototype.slice.call(t,0)}function r(t){function e(t,e,i){return 0===i&&(t={}),t[e[n]]=e,t}var n="id";return 1==arguments.length?(n=t,e):e.apply(this,arguments)}e.exports={arr:i,obj:r}},{}],81:[function(t,e,n){var i=t("utilise/is");e.exports=function r(t,e){return e||(r.matched=[]),i["in"](r.matched)(t)?!1:r.matched.push(t)}},{"utilise/is":38}],82:[function(t,e,n){var i=t("utilise/set");e.exports=function(t,e){return function(n){return i({key:t,value:e,type:"update"})(n)}}},{"utilise/set":70}],83:[function(t,e,n){var i=t("utilise/keys"),r=t("utilise/from");e.exports=function(t){return t?i(t).map(r(t)):[]}},{"utilise/from":28,"utilise/keys":41}],84:[function(t,e,n){e.exports=function i(t){return function(e){return function(){var n=t.apply(this,arguments);n?e.apply(this,arguments):this.once("change",i(t)(e))}}}},{}],85:[function(t,e,n){e.exports=function(t){return function(){return t}}},{}],86:[function(t,e,n){var i=t("utilise/key");e.exports=function(t){return function(e,n){var r=i(t)(e)||"",o=i(t)(n)||"";return r>o?-1:o>r?1:0}}},{"utilise/key":40}]},{},[79])(79)});